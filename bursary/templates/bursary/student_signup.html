{% extends 'bursary/base.html' %}

{% block content %}
<h2>Student Sign Up</h2>

<!-- Messages -->
{% if messages %}
  {% for message in messages %}
   <div style="padding: 10px; margin-bottom: 10px; border-radius: 5px;
    {% if message.tags == 'success' %}background-color: #d4edda; color: #155724;
    {% elif message.tags == 'error' %}background-color: #f8d7da; color: #721c24;
    {% elif message.tags == 'info' %}background-color: #d1ecf1; color: #0c5460;
    {% endif %}">
    {{ message }}
   </div>
  {% endfor %}
{% endif %}

<form method="POST">
    {% csrf_token %}

    <!-- Full Name -->
    <p>
        {{ form.full_name.label_tag }}<br>
        {{ form.full_name }}
        {% if form.full_name.errors %}
            <br><span style="color:red;">{{ form.full_name.errors|striptags }}</span>
        {% endif %}
    </p>

    <!-- ID No / Birth Certificate No -->
    <p>
        {{ form.id_no.label_tag }}<br>
        {{ form.id_no }}
        {% if form.id_no.errors %}
            <br><span style="color:red;">{{ form.id_no.errors|striptags }}</span>
        {% endif %}
    </p>

    <!-- Email (Optional) -->
    <p>
        {{ form.email.label_tag }} (Optional)<br>
        {{ form.email }}
        {% if form.email.errors %}
            <br><span style="color:red;">{{ form.email.errors|striptags }}</span>
        {% endif %}
    </p>

    <!-- Password Fields -->
    {% for field in form %}
        {% if field.name != 'full_name' and field.name != 'id_no' and field.name != 'email' %}
        <p>
            {{ field.label_tag }}<br>
            {{ field }}
            {% if field.errors %}
                <br><span style="color:red;">{{ field.errors|striptags }}</span>
            {% endif %}
        </p>
        {% endif %}
    {% endfor %}

    <button type="submit">Sign Up</button>
</form>

<p>Already have an account? <a href="{% url 'student_login' %}">Login here</a></p>
{% endblock %}
